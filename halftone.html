<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carburate Halftone Effect</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="main-nav">
        <div class="nav-container">
            <h1 class="nav-title">Carburate Pattern</h1>
            <div class="nav-links">
                <a href="index.html" class="nav-link">Pattern Animation</a>
                <a href="halftone.html" class="nav-link active">Halftone Effect</a>
            </div>
        </div>
    </nav>

    <div class="controls-dropdown">
        <button class="dropdown-toggle" id="dropdown-toggle">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="3"></circle>
                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06-.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
            </svg>
            Settings
        </button>
        <div class="dropdown-content" id="dropdown-content">
            <div class="control-group">
                <h3>Image Processing</h3>
                <div class="control-item">
                    <label for="contrast">Contrast</label>
                    <input type="range" id="contrast" min="0.1" max="5" step="0.1" value="1.0">
                    <span class="value-display" id="contrast-value">1.0x</span>
                </div>
                <div class="control-item">
                    <label for="brightness">Brightness</label>
                    <input type="range" id="brightness" min="-200" max="200" step="5" value="0">
                    <span class="value-display" id="brightness-value">0</span>
                </div>
            </div>
            
            <div class="control-group">
                <h3>Halftone Pattern</h3>
                <div class="control-item">
                    <label for="dot-size">Rectangle Width</label>
                    <input type="range" id="dot-size" min="1" max="20" step="1" value="3">
                    <span class="value-display" id="dot-size-value">3px</span>
                </div>
                <div class="control-item">
                    <label for="dot-spacing">Cell Spacing</label>
                    <input type="range" id="dot-spacing" min="1" max="50" step="1" value="4">
                    <span class="value-display" id="dot-spacing-value">4px</span>
                </div>
                <div class="control-item">
                    <label for="dot-density">Height Multiplier</label>
                    <input type="range" id="dot-density" min="0.1" max="5" step="0.1" value="1.5">
                    <span class="value-display" id="dot-density-value">1.5x</span>
                </div>
                <div class="control-item">
                    <label for="tall-ratio">Tall/Short Ratio</label>
                    <input type="range" id="tall-ratio" min="0.1" max="2" step="0.1" value="0.6">
                    <span class="value-display" id="tall-ratio-value">0.6x</span>
                </div>
                <div class="control-item">
                    <label for="min-height">Minimum Height</label>
                    <input type="range" id="min-height" min="1" max="20" step="1" value="2">
                    <span class="value-display" id="min-height-value">2px</span>
                </div>
            </div>
            
            <div class="control-group">
                <h3>Colors</h3>
                <div class="control-item">
                    <label for="halftone-color">Halftone Color</label>
                    <input type="color" id="halftone-color" value="#000000">
                </div>
                <div class="control-item">
                    <label for="halftone-bg">Background Color</label>
                    <input type="color" id="halftone-bg" value="#ffffff">
                </div>
            </div>
        </div>
    </div>

    <div class="halftone-container">
        <div class="upload-section">
            <div class="upload-area" id="upload-area">
                <div class="upload-content">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7,10 12,15 17,10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    <h3>Upload Image</h3>
                    <p>Drag & drop an image or click to browse</p>
                    <input type="file" id="file-input" accept="image/*" style="display: none;">
                </div>
            </div>
            
            <div class="image-preview" id="image-preview" style="display: none;">
                <h3>Original Image</h3>
                <div class="image-thumbnail">
                    <canvas id="original-canvas" class="thumbnail-canvas"></canvas>
                    <button class="change-image-btn" onclick="document.getElementById('file-input').click()">
                        Change Image
                    </button>
                </div>
            </div>
        </div>

        <div class="preview-section" id="preview-section" style="display: none;">
            <div class="halftone-preview">
                <h3>Halftone Result</h3>
                <canvas id="halftone-canvas" class="preview-canvas"></canvas>
                <div class="download-buttons">
                    <button id="download-png" class="download-btn">Download PNG</button>
                    <button id="download-svg" class="download-btn">Download SVG</button>
                </div>
            </div>
        </div>
    </div>

    <script src="halftone.js"></script>
</body>
</html>
